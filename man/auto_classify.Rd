% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/auto_classify.R
\name{auto_classify}
\alias{auto_classify}
\title{Automatic text classification with model selection}
\usage{
auto_classify(
  data,
  text_col,
  label_col,
  cv_folds = NULL,
  max_time_minutes = 30,
  device = NULL,
  verbose = TRUE
)
}
\arguments{
\item{data}{Training data frame}

\item{text_col}{Column containing text (unquoted)}

\item{label_col}{Column containing labels (unquoted)}

\item{cv_folds}{Number of cross-validation folds. If NULL (default), automatically
determined: 5 folds for <2K samples, 3 for 2-10K, 2 for >10K.}

\item{max_time_minutes}{Maximum time budget in minutes (default: 30)}

\item{device}{Device to use ("cpu" or "cuda"). Auto-detected if NULL.}

\item{verbose}{Show detailed progress (default: TRUE)}
}
\value{
A trained classifier (standard or MoE) ready for predictions
}
\description{
This is the easy entry point for text classification. It automatically:
- Determines optimal model architecture based on dataset size and classes
- Performs k-fold cross-validation to select best approach
- Trains final model on full dataset
- Returns ready-to-use classifier
}
\details{
**Data-Driven Strategy**:

Computes `samples_per_class` and `complexity_score`, then decides:
- **Always**: Frozen baseline (fast, prevents overfitting)
- **Add fine-tuning if**: 50+ samples/class AND fits time budget
- **Add MoE if**: 4+ classes, 200+ samples/class, complexity > 12, AND fits budget

Model selection via cross-validation:
1. Adaptive CV folds (fewer for larger datasets)
2. Tests all candidates that fit in time budget
3. Selects best based on validation accuracy
4. Trains final model on all data

Time budget management:
- Estimates training time from dataset size
- Only tests approaches that fit (with safety margin)
- Early stopping if budget exhausted during CV
}
\examples{
\dontrun{
library(dplyr)

# Simple usage - just data and columns
clf <- auto_classify(
  data = emotion_sample,
  text_col = text,
  label_col = label
)

# Make predictions
predictions <- predict(clf, test_data, text)

# With time budget
clf <- auto_classify(
  data = emotion_full,
  text_col = text,
  label_col = label,
  max_time_minutes = 15
)
}
}
\seealso{
\code{\link{classifier}}, \code{\link{moe_classifier}}
}
